import{S as It,ah as Mt,au as me,av as Nt,n as mt,a as Kt,b as S,d as Ut,ao as Dt,j,P as Ft,c as V}from"./main-CGtgWssC.js";var Wt=class extends It{#e;#t=void 0;#n;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),Mt(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&me(t.mutationKey)!==me(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??Nt();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){mt.batch(()=>{if(this.#r&&this.hasListeners()){const t=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,n),this.#r.onSettled?.(e.data,null,t,n)):e?.type==="error"&&(this.#r.onError?.(e.error,t,n),this.#r.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(t=>{t(this.#t)})})}};function Fr(e,t){const n=Kt(),[r]=S.useState(()=>new Wt(n,e));S.useEffect(()=>{r.setOptions(e)},[r,e]);const s=S.useSyncExternalStore(S.useCallback(i=>r.subscribe(mt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=S.useCallback((i,a)=>{r.mutate(i,a).catch(Ut)},[r]);if(s.error&&Dt(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function x(e,t=";"){let n=t===";"?/(?:^|;)\s*([^=;\s]+)(\s*=\s*(?:"((?:[^"\\]|\\.)*)"|((?:[^;]|\\\;)+))?)?/g:/(?:^|,)\s*([^=,\s]+)(\s*=\s*(?:"((?:[^"\\]|\\.)*)"|((?:[^,]|\\\,)+))?)?/g,r=[],s;for(;(s=n.exec(e))!==null;){let o=s[1].trim(),i;s[2]&&(i=(s[3]||s[4]||"").replace(/\\(.)/g,"$1").trim()),r.push([o,i])}return r}function O(e){return e.includes('"')||e.includes(";")||e.includes(" ")?`"${e.replace(/"/g,'\\"')}"`:e}function qt(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function W(e){return e!=null&&typeof e[Symbol.iterator]=="function"}function Ht(e){return e instanceof Date&&!isNaN(e.getTime())}function K(e){return e==="*"||/^(W\/)?".*"$/.test(e)?e:`"${e}"`}var ge=class{#e;constructor(e){if(this.#e=new Map,e){if(typeof e=="string")for(let t of e.split(/\s*,\s*/)){let n=x(t);if(n.length<1)continue;let r=n[0][0],s=1;for(let o=1;o<n.length;o++){let[i,a]=n[o];if(i==="q"){s=Number(a);break}}this.#e.set(r.toLowerCase(),s)}else if(W(e))for(let t of e)Array.isArray(t)?this.#e.set(t[0].toLowerCase(),t[1]):this.#e.set(t.toLowerCase(),1);else for(let t of Object.getOwnPropertyNames(e))this.#e.set(t.toLowerCase(),e[t]);this.#t()}}#t(){this.#e=new Map([...this.#e].sort((e,t)=>t[1]-e[1]))}get mediaTypes(){return Array.from(this.#e.keys())}get weights(){return Array.from(this.#e.values())}get size(){return this.#e.size}accepts(e){return this.getWeight(e)>0}getWeight(e){let[t,n]=e.toLowerCase().split("/");for(let[r,s]of this){let[o,i]=r.split("/");if((o===t||o==="*"||t==="*")&&(i===n||i==="*"||n==="*"))return s}return 0}getPreferred(e){let n=e.map(r=>[r,this.getWeight(r)]).sort((r,s)=>s[1]-r[1])[0];return n!==void 0&&n[1]>0?n[0]:null}get(e){return this.#e.get(e.toLowerCase())??null}set(e,t=1){this.#e.set(e.toLowerCase(),t),this.#t()}delete(e){this.#e.delete(e.toLowerCase())}has(e){return this.#e.has(e.toLowerCase())}clear(){this.#e.clear()}entries(){return this.#e.entries()}[Symbol.iterator](){return this.entries()}forEach(e,t){for(let[n,r]of this)e.call(t,n,r,this)}toString(){let e=[];for(let[t,n]of this.#e)e.push(`${t}${n===1?"":`;q=${n}`}`);return e.join(",")}},ve=class{#e;constructor(e){if(this.#e=new Map,e){if(typeof e=="string")for(let t of e.split(/\s*,\s*/)){let n=x(t);if(n.length<1)continue;let r=n[0][0],s=1;for(let o=1;o<n.length;o++){let[i,a]=n[o];if(i==="q"){s=Number(a);break}}this.#e.set(r.toLowerCase(),s)}else if(W(e))for(let t of e)Array.isArray(t)?this.#e.set(t[0].toLowerCase(),t[1]):this.#e.set(t.toLowerCase(),1);else for(let t of Object.getOwnPropertyNames(e))this.#e.set(t.toLowerCase(),e[t]);this.#t()}}#t(){this.#e=new Map([...this.#e].sort((e,t)=>t[1]-e[1]))}get encodings(){return Array.from(this.#e.keys())}get weights(){return Array.from(this.#e.values())}get size(){return this.#e.size}accepts(e){return e.toLowerCase()==="identity"||this.getWeight(e)>0}getWeight(e){let t=e.toLowerCase();for(let[n,r]of this)if(n===t||n==="*"||t==="*")return r;return 0}getPreferred(e){let n=e.map(r=>[r,this.getWeight(r)]).sort((r,s)=>s[1]-r[1])[0];return n!==void 0&&n[1]>0?n[0]:null}get(e){return this.#e.get(e.toLowerCase())??null}set(e,t=1){this.#e.set(e.toLowerCase(),t),this.#t()}delete(e){this.#e.delete(e.toLowerCase())}has(e){return this.#e.has(e.toLowerCase())}clear(){this.#e.clear()}entries(){return this.#e.entries()}[Symbol.iterator](){return this.entries()}forEach(e,t){for(let[n,r]of this)e.call(t,n,r,this)}toString(){let e=[];for(let[t,n]of this.#e)e.push(`${t}${n===1?"":`;q=${n}`}`);return e.join(",")}},ye=class{#e;constructor(e){if(this.#e=new Map,e){if(typeof e=="string")for(let t of e.split(/\s*,\s*/)){let n=x(t);if(n.length<1)continue;let r=n[0][0],s=1;for(let o=1;o<n.length;o++){let[i,a]=n[o];if(i==="q"){s=Number(a);break}}this.#e.set(r.toLowerCase(),s)}else if(W(e))for(let t of e)Array.isArray(t)?this.#e.set(t[0].toLowerCase(),t[1]):this.#e.set(t.toLowerCase(),1);else for(let t of Object.getOwnPropertyNames(e))this.#e.set(t.toLowerCase(),e[t]);this.#t()}}#t(){this.#e=new Map([...this.#e].sort((e,t)=>t[1]-e[1]))}get languages(){return Array.from(this.#e.keys())}get weights(){return Array.from(this.#e.values())}get size(){return this.#e.size}accepts(e){return this.getWeight(e)>0}getWeight(e){let[t,n]=e.toLowerCase().split("-");for(let[r,s]of this){let[o,i]=r.split("-");if((o===t||o==="*"||t==="*")&&(i===n||i===void 0||n===void 0))return s}return 0}getPreferred(e){let n=e.map(r=>[r,this.getWeight(r)]).sort((r,s)=>s[1]-r[1])[0];return n!==void 0&&n[1]>0?n[0]:null}get(e){return this.#e.get(e.toLowerCase())??null}set(e,t=1){this.#e.set(e.toLowerCase(),t),this.#t()}delete(e){this.#e.delete(e.toLowerCase())}has(e){return this.#e.has(e.toLowerCase())}clear(){this.#e.clear()}entries(){return this.#e.entries()}[Symbol.iterator](){return this.entries()}forEach(e,t){for(let[n,r]of this)e.call(t,n,r,this)}toString(){let e=[];for(let[t,n]of this.#e)e.push(`${t}${n===1?"":`;q=${n}`}`);return e.join(",")}},_e=class{maxAge;maxStale;minFresh;sMaxage;noCache;noStore;noTransform;onlyIfCached;mustRevalidate;proxyRevalidate;mustUnderstand;private;public;immutable;staleWhileRevalidate;staleIfError;constructor(e){if(e)if(typeof e=="string"){let t=x(e,",");if(t.length>0)for(let[n,r]of t)switch(n){case"max-age":this.maxAge=Number(r);break;case"max-stale":this.maxStale=Number(r);break;case"min-fresh":this.minFresh=Number(r);break;case"s-maxage":this.sMaxage=Number(r);break;case"no-cache":this.noCache=!0;break;case"no-store":this.noStore=!0;break;case"no-transform":this.noTransform=!0;break;case"only-if-cached":this.onlyIfCached=!0;break;case"must-revalidate":this.mustRevalidate=!0;break;case"proxy-revalidate":this.proxyRevalidate=!0;break;case"must-understand":this.mustUnderstand=!0;break;case"private":this.private=!0;break;case"public":this.public=!0;break;case"immutable":this.immutable=!0;break;case"stale-while-revalidate":this.staleWhileRevalidate=Number(r);break;case"stale-if-error":this.staleIfError=Number(r);break}}else this.maxAge=e.maxAge,this.maxStale=e.maxStale,this.minFresh=e.minFresh,this.sMaxage=e.sMaxage,this.noCache=e.noCache,this.noStore=e.noStore,this.noTransform=e.noTransform,this.onlyIfCached=e.onlyIfCached,this.mustRevalidate=e.mustRevalidate,this.proxyRevalidate=e.proxyRevalidate,this.mustUnderstand=e.mustUnderstand,this.private=e.private,this.public=e.public,this.immutable=e.immutable,this.staleWhileRevalidate=e.staleWhileRevalidate,this.staleIfError=e.staleIfError}toString(){let e=[];return this.public&&e.push("public"),this.private&&e.push("private"),typeof this.maxAge=="number"&&e.push(`max-age=${this.maxAge}`),typeof this.sMaxage=="number"&&e.push(`s-maxage=${this.sMaxage}`),this.noCache&&e.push("no-cache"),this.noStore&&e.push("no-store"),this.noTransform&&e.push("no-transform"),this.onlyIfCached&&e.push("only-if-cached"),this.mustRevalidate&&e.push("must-revalidate"),this.proxyRevalidate&&e.push("proxy-revalidate"),this.mustUnderstand&&e.push("must-understand"),this.immutable&&e.push("immutable"),typeof this.staleWhileRevalidate=="number"&&e.push(`stale-while-revalidate=${this.staleWhileRevalidate}`),typeof this.staleIfError=="number"&&e.push(`stale-if-error=${this.staleIfError}`),typeof this.maxStale=="number"&&e.push(`max-stale=${this.maxStale}`),typeof this.minFresh=="number"&&e.push(`min-fresh=${this.minFresh}`),e.join(", ")}},we=class{filename;filenameSplat;name;type;constructor(e){if(e)if(typeof e=="string"){let t=x(e);if(t.length>0){this.type=t[0][0];for(let[n,r]of t.slice(1))n==="filename"?this.filename=r:n==="filename*"?this.filenameSplat=r:n==="name"&&(this.name=r)}}else this.filename=e.filename,this.filenameSplat=e.filenameSplat,this.name=e.name,this.type=e.type}get preferredFilename(){let e=this.filenameSplat;if(e){let t=Bt(e);if(t)return t}return this.filename}toString(){if(!this.type)return"";let e=[this.type];return this.name&&e.push(`name=${O(this.name)}`),this.filename&&e.push(`filename=${O(this.filename)}`),this.filenameSplat&&e.push(`filename*=${O(this.filenameSplat)}`),e.join("; ")}};function Bt(e){let t=e.match(/^([\w-]+)'([^']*)'(.+)$/);if(!t)return null;let[,n,,r]=t,s=Yt(r);try{let o=new TextDecoder(n),i=new Uint8Array(s.split("").map(a=>a.charCodeAt(0)));return o.decode(i)}catch(o){return console.warn(`Failed to decode filename from charset ${n}:`,o),s}}function Yt(e){return e.replace(/\+/g," ").replace(/%([0-9A-Fa-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}var ze=class{boundary;charset;mediaType;constructor(e){if(e)if(typeof e=="string"){let t=x(e);if(t.length>0){this.mediaType=t[0][0];for(let[n,r]of t.slice(1))n==="boundary"?this.boundary=r:n==="charset"&&(this.charset=r)}}else this.boundary=e.boundary,this.charset=e.charset,this.mediaType=e.mediaType}toString(){if(!this.mediaType)return"";let e=[this.mediaType];return this.charset&&e.push(`charset=${O(this.charset)}`),this.boundary&&e.push(`boundary=${O(this.boundary)}`),e.join("; ")}},be=class{#e;constructor(e){if(this.#e=new Map,e)if(typeof e=="string"){let t=x(e);for(let[n,r]of t)this.#e.set(n,r??"")}else if(W(e))for(let[t,n]of e)this.#e.set(t,n);else for(let t of Object.getOwnPropertyNames(e))this.#e.set(t,e[t])}get names(){return Array.from(this.#e.keys())}get values(){return Array.from(this.#e.values())}get size(){return this.#e.size}get(e){return this.#e.get(e)??null}set(e,t){this.#e.set(e,t)}delete(e){this.#e.delete(e)}has(e){return this.#e.has(e)}clear(){this.#e.clear()}entries(){return this.#e.entries()}[Symbol.iterator](){return this.entries()}forEach(e,t){for(let[n,r]of this)e.call(t,n,r,this)}toString(){let e=[];for(let[t,n]of this.#e)e.push(`${t}=${O(n)}`);return e.join("; ")}},ke=class{tags=[];constructor(e){e&&(typeof e=="string"?this.tags.push(...e.split(/\s*,\s*/).map(K)):Array.isArray(e)?this.tags.push(...e.map(K)):this.tags.push(...e.tags.map(K)))}has(e){return this.tags.includes(K(e))}matches(e){return this.has(e)||this.tags.includes("*")}toString(){return this.tags.join(", ")}},$e=class{domain;expires;httpOnly;maxAge;name;path;sameSite;secure;value;constructor(e){if(e)if(typeof e=="string"){let t=x(e);if(t.length>0){this.name=t[0][0],this.value=t[0][1];for(let[n,r]of t.slice(1))switch(n.toLowerCase()){case"domain":this.domain=r;break;case"expires":{if(typeof r=="string"){let s=new Date(r);Ht(s)&&(this.expires=s)}break}case"httponly":this.httpOnly=!0;break;case"max-age":{if(typeof r=="string"){let s=parseInt(r,10);isNaN(s)||(this.maxAge=s)}break}case"path":this.path=r;break;case"samesite":typeof r=="string"&&/strict|lax|none/i.test(r)&&(this.sameSite=qt(r));break;case"secure":this.secure=!0;break}}}else this.domain=e.domain,this.expires=e.expires,this.httpOnly=e.httpOnly,this.maxAge=e.maxAge,this.name=e.name,this.path=e.path,this.sameSite=e.sameSite,this.secure=e.secure,this.value=e.value}toString(){if(!this.name)return"";let e=[`${this.name}=${O(this.value||"")}`];return this.domain&&e.push(`Domain=${this.domain}`),this.path&&e.push(`Path=${this.path}`),this.expires&&e.push(`Expires=${this.expires.toUTCString()}`),this.maxAge&&e.push(`Max-Age=${this.maxAge}`),this.secure&&e.push("Secure"),this.httpOnly&&e.push("HttpOnly"),this.sameSite&&e.push(`SameSite=${this.sameSite}`),e.join("; ")}},Gt={ct:"CT",etag:"ETag",te:"TE",www:"WWW",x:"X",xss:"XSS"};function Jt(e){return e.toLowerCase().split("-").map(t=>Gt[t]||t.charAt(0).toUpperCase()+t.slice(1)).join("-")}var Se=`\r
`,Te="accept",Ze="accept-encoding",Ee="accept-language",Pe="accept-ranges",Ce="age",xe="cache-control",Oe="connection",je="content-disposition",Ae="content-encoding",Re="content-language",Le="content-length",Ie="content-type",Me="cookie",Ne="date",Ke="etag",Ue="expires",De="host",Fe="if-modified-since",We="if-none-match",qe="if-unmodified-since",He="last-modified",Be="location",Ye="referer",R="set-cookie",Ge=class gt extends Headers{#e;#t=[];constructor(t){if(super(),this.#e=new Map,t){if(typeof t=="string"){let n=t.split(Se);for(let r of n){let s=r.match(/^([^:]+):(.*)/);s&&this.append(s[1].trim(),s[2].trim())}}else if(W(t))for(let[n,r]of t)this.append(n,r);else if(typeof t=="object")for(let n of Object.getOwnPropertyNames(t)){let r=t[n],s=Object.getOwnPropertyDescriptor(gt.prototype,n);s?.set?s.set.call(this,r):this.set(n,r.toString())}}}append(t,n){let r=t.toLowerCase();if(r===R)this.#t.push(n);else{let s=this.#e.get(r);this.#e.set(r,s?`${s}, ${n}`:n)}}delete(t){let n=t.toLowerCase();n===R?this.#t=[]:this.#e.delete(n)}get(t){let n=t.toLowerCase();if(n===R)return this.getSetCookie().join(", ");{let r=this.#e.get(n);if(typeof r=="string")return r;if(r!=null){let s=r.toString();return s===""?null:s}else return null}}getSetCookie(){return this.#t.map(t=>typeof t=="string"?t:t.toString())}has(t){let n=t.toLowerCase();return n===R?this.#t.length>0:this.get(n)!=null}set(t,n){let r=t.toLowerCase();r===R?this.#t=[n]:this.#e.set(r,n)}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*entries(){for(let[t]of this.#e){let n=this.get(t);n&&(yield[t,n])}for(let t of this.getSetCookie())yield[R,t]}[Symbol.iterator](){return this.entries()}forEach(t,n){for(let[r,s]of this)t.call(n,s,r,this)}toString(){let t=[];for(let[n,r]of this)t.push(`${Jt(n)}: ${r}`);return t.join(Se)}get accept(){return this.#n(Te,ge)}set accept(t){this.#r(Te,ge,t)}get acceptEncoding(){return this.#n(Ze,ve)}set acceptEncoding(t){this.#r(Ze,ve,t)}get acceptLanguage(){return this.#n(Ee,ye)}set acceptLanguage(t){this.#r(Ee,ye,t)}get acceptRanges(){return this.#i(Pe)}set acceptRanges(t){this.#a(Pe,t)}get age(){return this.#u(Ce)}set age(t){this.#c(Ce,t)}get cacheControl(){return this.#n(xe,_e)}set cacheControl(t){this.#r(xe,_e,t)}get connection(){return this.#i(Oe)}set connection(t){this.#a(Oe,t)}get contentDisposition(){return this.#n(je,we)}set contentDisposition(t){this.#r(je,we,t)}get contentEncoding(){return this.#i(Ae)}set contentEncoding(t){this.#a(Ae,Array.isArray(t)?t.join(", "):t)}get contentLanguage(){return this.#i(Re)}set contentLanguage(t){this.#a(Re,Array.isArray(t)?t.join(", "):t)}get contentLength(){return this.#u(Le)}set contentLength(t){this.#c(Le,t)}get contentType(){return this.#n(Ie,ze)}set contentType(t){this.#r(Ie,ze,t)}get cookie(){return this.#n(Me,be)}set cookie(t){this.#r(Me,be,t)}get date(){return this.#s(Ne)}set date(t){this.#o(Ne,t)}get etag(){return this.#i(Ke)}set etag(t){this.#a(Ke,typeof t=="string"?K(t):t)}get expires(){return this.#s(Ue)}set expires(t){this.#o(Ue,t)}get host(){return this.#i(De)}set host(t){this.#a(De,t)}get ifModifiedSince(){return this.#s(Fe)}set ifModifiedSince(t){this.#o(Fe,t)}get ifNoneMatch(){return this.#n(We,ke)}set ifNoneMatch(t){this.#r(We,ke,t)}get ifUnmodifiedSince(){return this.#s(qe)}set ifUnmodifiedSince(t){this.#o(qe,t)}get lastModified(){return this.#s(He)}set lastModified(t){this.#o(He,t)}get location(){return this.#i(Be)}set location(t){this.#a(Be,t)}get referer(){return this.#i(Ye)}set referer(t){this.#a(Ye,t)}get setCookie(){let t=this.#t;for(let n=0;n<t.length;++n)typeof t[n]=="string"&&(t[n]=new $e(t[n]));return t}set setCookie(t){t!=null?this.#t=(Array.isArray(t)?t:[t]).map(n=>typeof n=="string"?n:new $e(n)):this.#t=[]}#n(t,n){let r=this.#e.get(t);if(r!==void 0)if(typeof r=="string"){let o=new n(r);return this.#e.set(t,o),o}else return r;let s=new n;return this.#e.set(t,s),s}#r(t,n,r){r!=null?this.#e.set(t,typeof r=="string"?r:new n(r)):this.#e.delete(t)}#s(t){let n=this.#e.get(t);return n===void 0?null:new Date(n)}#o(t,n){n!=null?this.#e.set(t,typeof n=="string"?n:(typeof n=="number"?new Date(n):n).toUTCString()):this.#e.delete(t)}#u(t){let n=this.#e.get(t);return n===void 0?null:parseInt(n,10)}#c(t,n){n!=null?this.#e.set(t,typeof n=="string"?n:n.toString()):this.#e.delete(t)}#i(t){let n=this.#e.get(t);return n===void 0?null:n}#a(t,n){n!=null?this.#e.set(t,n):this.#e.delete(t)}};const vt="pacetrack-csrf-token";function yt(){return typeof window<"u"&&typeof localStorage<"u"}function Wr(e){yt()&&(localStorage.setItem(vt,e),document.cookie=`pacetrack-csrf-token=${encodeURIComponent(e)}; path=/; SameSite=Strict`)}function Xt(e){if(yt()){const n=document.cookie.match(/pacetrack-csrf-token=([^;]+)/);return n?n[1]?decodeURIComponent(n[1]):null:localStorage.getItem(vt)}return null}const qr=async(e,t={},n)=>{let r=e;r.startsWith("/")&&(console.warn("Endpoint argument started with a slash, removing it automatically."+r),r=r.slice(1));const s=new Ge;s.delete("content-length"),t.body instanceof FormData&&s.delete("content-type"),t?.headers&&new Ge(t.headers).forEach((p,l)=>{t.body instanceof FormData&&l.toLowerCase()==="content-type"||s.set(l,p)});const o=typeof window<"u"?window.location.href:"unknown";s.set("X-Request-Origin-Url",o);const i=Xt();i&&(t.method!=="GET"||n?.method!=="GET")&&s.set("X-CSRF-Token",i);const a=await fetch(`http://localhost:4000/${r}`,{...t,credentials:"include",headers:s});let u={status:"error",errors:{global:"Unknown error"}};try{u=await a.json()}catch(c){console.error("Error parsing JSON from response: ",r,c)}return{data:u,response:a}};function h(e,t,n){function r(a,u){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,u);for(const p in i.prototype)p in a||Object.defineProperty(a,p,{value:i.prototype[p].bind(a)});a._zod.constr=i,a._zod.def=u}const s=n?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function i(a){var u;const c=n?.Parent?new o:this;r(c,a),(u=c._zod).deferred??(u.deferred=[]);for(const p of c._zod.deferred)p();return c}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class D extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const _t={};function E(e){return _t}function Qt(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function Vt(e,t){return typeof t=="bigint"?t.toString():t}function oe(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function I(e){return e==null}function ie(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function m(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function wt(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function N(e){return JSON.stringify(e)}const zt=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function J(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const en=oe(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function X(e){if(J(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(J(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const ne=new Set(["string","number","symbol"]);function bt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function tn(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function nn(e,t){const n={},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(n[s]=r.shape[s])}return A(e,{...e._zod.def,shape:n,checks:[]})}function rn(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete n[s]}return A(e,{...e._zod.def,shape:n,checks:[]})}function sn(e,t){if(!X(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return wt(this,"shape",r),r},checks:[]};return A(e,n)}function on(e,t){return A(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return wt(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function an(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)s[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return A(t,{...t._zod.def,shape:s,checks:[]})}function un(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)s[o]=new e({type:"nonoptional",innerType:r[o]});return A(t,{...t._zod.def,shape:s,checks:[]})}function U(e,t=0){for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Z(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function H(e){return typeof e=="string"?e:e?.message}function P(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=H(e.inst?._zod.def?.error?.(e))??H(t?.error?.(e))??H(n.customError?.(e))??H(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function ae(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function ue(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function F(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const kt=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,Vt,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},$t=h("$ZodError",kt),St=h("$ZodError",kt,{Parent:Error});function cn(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function ln(e,t){const n=t||function(o){return o.message},r={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>s({issues:a}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)r._errors.push(n(i));else{let a=r,u=0;for(;u<i.path.length;){const c=i.path[u];u===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(i))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return s(e),r}const hn=e=>(t,n,r,s)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new D;if(i.issues.length){const a=new(s?.Err??e)(i.issues.map(u=>P(u,o,E())));throw zt(a,s?.callee),a}return i.value},fn=e=>async(t,n,r,s)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(s?.Err??e)(i.issues.map(u=>P(u,o,E())));throw zt(a,s?.callee),a}return i.value},Tt=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new D;return o.issues.length?{success:!1,error:new(e??$t)(o.issues.map(i=>P(i,s,E())))}:{success:!0,data:o.value}},pn=Tt(St),Zt=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>P(i,s,E())))}:{success:!0,data:o.value}},dn=Zt(St),C=h("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),mn=h("$ZodCheckMaxSize",(e,t)=>{var n;C.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!I(s)&&s.size!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;s.size<=t.maximum||r.issues.push({origin:ae(s),code:"too_big",maximum:t.maximum,input:s,inst:e,continue:!t.abort})}}),gn=h("$ZodCheckMinSize",(e,t)=>{var n;C.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!I(s)&&s.size!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;s.size>=t.minimum||r.issues.push({origin:ae(s),code:"too_small",minimum:t.minimum,input:s,inst:e,continue:!t.abort})}}),vn=h("$ZodCheckSizeEquals",(e,t)=>{var n;C.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!I(s)&&s.size!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.size,s.maximum=t.size,s.size=t.size}),e._zod.check=r=>{const s=r.value,o=s.size;if(o===t.size)return;const i=o>t.size;r.issues.push({origin:ae(s),...i?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),yn=h("$ZodCheckMaxLength",(e,t)=>{var n;C.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!I(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const i=ue(s);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),_n=h("$ZodCheckMinLength",(e,t)=>{var n;C.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!I(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const i=ue(s);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),wn=h("$ZodCheckLengthEquals",(e,t)=>{var n;C.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!I(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,o=s.length;if(o===t.length)return;const i=ue(s),a=o>t.length;r.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),zn=h("$ZodCheckOverwrite",(e,t)=>{C.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class bn{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),s=Math.min(...r.map(i=>i.length-i.trimStart().length)),o=r.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,s.join(`
`))}}const kn={major:4,minor:0,patch:0},y=h("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=kn;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const o of s._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,i,a)=>{let u=U(o),c;for(const p of i){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(u)continue;const l=o.issues.length,f=p._zod.check(o);if(f instanceof Promise&&a?.async===!1)throw new D;if(c||f instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await f,o.issues.length!==l&&(u||(u=U(o,l)))});else{if(o.issues.length===l)continue;u||(u=U(o,l))}}return c?c.then(()=>o):o};e._zod.run=(o,i)=>{const a=e._zod.parse(o,i);if(a instanceof Promise){if(i.async===!1)throw new D;return a.then(u=>s(u,r,i))}return s(a,r,i)}}e["~standard"]={validate:s=>{try{const o=pn(e,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return dn(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),$n=h("$ZodUnknown",(e,t)=>{y.init(e,t),e._zod.parse=n=>n}),Sn=h("$ZodNever",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Je(e,t,n){e.issues.length&&t.issues.push(...Z(n,e.issues)),t.value[n]=e.value}const Tn=h("$ZodArray",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const o=[];for(let i=0;i<s.length;i++){const a=s[i],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?o.push(u.then(c=>Je(c,n,i))):Je(u,n,i)}return o.length?Promise.all(o).then(()=>n):n}});function B(e,t,n){e.issues.length&&t.issues.push(...Z(n,e.issues)),t.value[n]=e.value}function Xe(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Z(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Zn=h("$ZodObject",(e,t)=>{y.init(e,t);const n=oe(()=>{const l=Object.keys(t.shape);for(const d of l)if(!(t.shape[d]instanceof y))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const f=tn(t.shape);return{shape:t.shape,keys:l,keySet:new Set(l),numKeys:l.length,optionalKeys:new Set(f)}});m(e._zod,"propValues",()=>{const l=t.shape,f={};for(const d in l){const v=l[d]._zod;if(v.values){f[d]??(f[d]=new Set);for(const T of v.values)f[d].add(T)}}return f});const r=l=>{const f=new bn(["shape","payload","ctx"]),d=n.value,v=_=>{const g=N(_);return`shape[${g}]._zod.run({ value: input[${g}], issues: [] }, ctx)`};f.write("const input = payload.value;");const T=Object.create(null);let b=0;for(const _ of d.keys)T[_]=`key_${b++}`;f.write("const newResult = {}");for(const _ of d.keys)if(d.optionalKeys.has(_)){const g=T[_];f.write(`const ${g} = ${v(_)};`);const z=N(_);f.write(`
        if (${g}.issues.length) {
          if (input[${z}] === undefined) {
            if (${z} in input) {
              newResult[${z}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${g}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${z}, ...iss.path] : [${z}],
              }))
            );
          }
        } else if (${g}.value === undefined) {
          if (${z} in input) newResult[${z}] = undefined;
        } else {
          newResult[${z}] = ${g}.value;
        }
        `)}else{const g=T[_];f.write(`const ${g} = ${v(_)};`),f.write(`
          if (${g}.issues.length) payload.issues = payload.issues.concat(${g}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N(_)}, ...iss.path] : [${N(_)}]
          })));`),f.write(`newResult[${N(_)}] = ${g}.value`)}f.write("payload.value = newResult;"),f.write("return payload;");const k=f.compile();return(_,g)=>k(l,_,g)};let s;const o=J,i=!_t.jitless,u=i&&en.value,c=t.catchall;let p;e._zod.parse=(l,f)=>{p??(p=n.value);const d=l.value;if(!o(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;const v=[];if(i&&u&&f?.async===!1&&f.jitless!==!0)s||(s=r(t.shape)),l=s(l,f);else{l.value={};const g=p.shape;for(const z of p.keys){const M=g[z],q=M._zod.run({value:d[z],issues:[]},f),pe=M._zod.optin==="optional"&&M._zod.optout==="optional";q instanceof Promise?v.push(q.then(de=>pe?Xe(de,l,z,d):B(de,l,z))):pe?Xe(q,l,z,d):B(q,l,z)}}if(!c)return v.length?Promise.all(v).then(()=>l):l;const T=[],b=p.keySet,k=c._zod,_=k.def.type;for(const g of Object.keys(d)){if(b.has(g))continue;if(_==="never"){T.push(g);continue}const z=k.run({value:d[g],issues:[]},f);z instanceof Promise?v.push(z.then(M=>B(M,l,g))):B(z,l,g)}return T.length&&l.issues.push({code:"unrecognized_keys",keys:T,input:d,inst:e}),v.length?Promise.all(v).then(()=>l):l}});function Qe(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>P(o,r,E())))}),t}const Et=h("$ZodUnion",(e,t)=>{y.init(e,t),m(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),m(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),m(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),m(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>ie(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let s=!1;const o=[];for(const i of t.options){const a=i._zod.run({value:n.value,issues:[]},r);if(a instanceof Promise)o.push(a),s=!0;else{if(a.issues.length===0)return a;o.push(a)}}return s?Promise.all(o).then(i=>Qe(i,n,e,r)):Qe(o,n,e,r)}}),En=h("$ZodDiscriminatedUnion",(e,t)=>{Et.init(e,t);const n=e._zod.parse;m(e._zod,"propValues",()=>{const s={};for(const o of t.options){const i=o._zod.propValues;if(!i||Object.keys(i).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[a,u]of Object.entries(i)){s[a]||(s[a]=new Set);for(const c of u)s[a].add(c)}}return s});const r=oe(()=>{const s=t.options,o=new Map;for(const i of s){const a=i._zod.propValues[t.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const u of a){if(o.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);o.set(u,i)}}return o});e._zod.parse=(s,o)=>{const i=s.value;if(!J(i))return s.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),s;const a=r.value.get(i?.[t.discriminator]);return a?a._zod.run(s,o):t.unionFallback?n(s,o):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:i,path:[t.discriminator],inst:e}),s)}}),Pn=h("$ZodIntersection",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,o=t.left._zod.run({value:s,issues:[]},r),i=t.right._zod.run({value:s,issues:[]},r);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([u,c])=>Ve(n,u,c)):Ve(n,o,i)}});function re(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(X(e)&&X(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),s={...e,...t};for(const o of r){const i=re(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};s[o]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r],i=re(s,o);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ve(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),U(e))return e;const r=re(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Cn=h("$ZodTuple",(e,t)=>{y.init(e,t);const n=t.items,r=n.length-[...n].reverse().findIndex(s=>s._zod.optin!=="optional");e._zod.parse=(s,o)=>{const i=s.value;if(!Array.isArray(i))return s.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),s;s.value=[];const a=[];if(!t.rest){const c=i.length>n.length,p=i.length<r-1;if(c||p)return s.issues.push({input:i,inst:e,origin:"array",...c?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length}}),s}let u=-1;for(const c of n){if(u++,u>=i.length&&u>=r)continue;const p=c._zod.run({value:i[u],issues:[]},o);p instanceof Promise?a.push(p.then(l=>Y(l,s,u))):Y(p,s,u)}if(t.rest){const c=i.slice(n.length);for(const p of c){u++;const l=t.rest._zod.run({value:p,issues:[]},o);l instanceof Promise?a.push(l.then(f=>Y(f,s,u))):Y(l,s,u)}}return a.length?Promise.all(a).then(()=>s):s}});function Y(e,t,n){e.issues.length&&t.issues.push(...Z(n,e.issues)),t.value[n]=e.value}const xn=h("$ZodRecord",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!X(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const o=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;n.value={};for(const u of i)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const c=t.valueType._zod.run({value:s[u],issues:[]},r);c instanceof Promise?o.push(c.then(p=>{p.issues.length&&n.issues.push(...Z(u,p.issues)),n.value[u]=p.value})):(c.issues.length&&n.issues.push(...Z(u,c.issues)),n.value[u]=c.value)}let a;for(const u in s)i.has(u)||(a=a??[],a.push(u));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:a})}else{n.value={};for(const i of Reflect.ownKeys(s)){if(i==="__proto__")continue;const a=t.keyType._zod.run({value:i,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>P(c,r,E())),input:i,path:[i],inst:e}),n.value[a.value]=a.value;continue}const u=t.valueType._zod.run({value:s[i],issues:[]},r);u instanceof Promise?o.push(u.then(c=>{c.issues.length&&n.issues.push(...Z(i,c.issues)),n.value[a.value]=c.value})):(u.issues.length&&n.issues.push(...Z(i,u.issues)),n.value[a.value]=u.value)}}return o.length?Promise.all(o).then(()=>n):n}}),On=h("$ZodMap",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!(s instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:s,inst:e}),n;const o=[];n.value=new Map;for(const[i,a]of s){const u=t.keyType._zod.run({value:i,issues:[]},r),c=t.valueType._zod.run({value:a,issues:[]},r);u instanceof Promise||c instanceof Promise?o.push(Promise.all([u,c]).then(([p,l])=>{et(p,l,n,i,s,e,r)})):et(u,c,n,i,s,e,r)}return o.length?Promise.all(o).then(()=>n):n}});function et(e,t,n,r,s,o,i){e.issues.length&&(ne.has(typeof r)?n.issues.push(...Z(r,e.issues)):n.issues.push({origin:"map",code:"invalid_key",input:s,inst:o,issues:e.issues.map(a=>P(a,i,E()))})),t.issues.length&&(ne.has(typeof r)?n.issues.push(...Z(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:s,inst:o,key:r,issues:t.issues.map(a=>P(a,i,E()))})),n.value.set(e.value,t.value)}const jn=h("$ZodSet",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!(s instanceof Set))return n.issues.push({input:s,inst:e,expected:"set",code:"invalid_type"}),n;const o=[];n.value=new Set;for(const i of s){const a=t.valueType._zod.run({value:i,issues:[]},r);a instanceof Promise?o.push(a.then(u=>tt(u,n))):tt(a,n)}return o.length?Promise.all(o).then(()=>n):n}});function tt(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const An=h("$ZodEnum",(e,t)=>{y.init(e,t);const n=Qt(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>ne.has(typeof r)).map(r=>typeof r=="string"?bt(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),Rn=h("$ZodLiteral",(e,t)=>{y.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?bt(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const s=n.value;return e._zod.values.has(s)||n.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),n}}),Ln=h("$ZodTransform",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(n.value=i,n));if(s instanceof Promise)throw new D;return n.value=s,n}}),In=h("$ZodOptional",(e,t)=>{y.init(e,t),e._zod.optin="optional",e._zod.optout="optional",m(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),m(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ie(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),Mn=h("$ZodNullable",(e,t)=>{y.init(e,t),m(e._zod,"optin",()=>t.innerType._zod.optin),m(e._zod,"optout",()=>t.innerType._zod.optout),m(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ie(n.source)}|null)$`):void 0}),m(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Nn=h("$ZodDefault",(e,t)=>{y.init(e,t),e._zod.optin="optional",m(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>nt(o,t)):nt(s,t)}});function nt(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Kn=h("$ZodPrefault",(e,t)=>{y.init(e,t),e._zod.optin="optional",m(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Un=h("$ZodNonOptional",(e,t)=>{y.init(e,t),m(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>rt(o,e)):rt(s,e)}});function rt(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Dn=h("$ZodSuccess",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>(n.value=o.issues.length===0,n)):(n.value=s.issues.length===0,n)}}),Fn=h("$ZodCatch",(e,t)=>{y.init(e,t),e._zod.optin="optional",m(e._zod,"optout",()=>t.innerType._zod.optout),m(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>P(i,r,E()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>P(o,r,E()))},input:n.value}),n.issues=[]),n)}}),Wn=h("$ZodPipe",(e,t)=>{y.init(e,t),m(e._zod,"values",()=>t.in._zod.values),m(e._zod,"optin",()=>t.in._zod.optin),m(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(n,r)=>{const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(o=>st(o,t,r)):st(s,t,r)}});function st(e,t,n){return U(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const qn=h("$ZodReadonly",(e,t)=>{y.init(e,t),m(e._zod,"propValues",()=>t.innerType._zod.propValues),m(e._zod,"values",()=>t.innerType._zod.values),m(e._zod,"optin",()=>t.innerType._zod.optin),m(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(ot):ot(s)}});function ot(e){return e.value=Object.freeze(e.value),e}const Hn=h("$ZodPromise",(e,t)=>{y.init(e,t),e._zod.parse=(n,r)=>Promise.resolve(n.value).then(s=>t.innerType._zod.run({value:s,issues:[]},r))}),Bn=h("$ZodLazy",(e,t)=>{y.init(e,t),m(e._zod,"innerType",()=>t.getter()),m(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),m(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),m(e._zod,"optin",()=>e._zod.innerType._zod.optin),m(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),Yn=h("$ZodCustom",(e,t)=>{C.init(e,t),y.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(o=>it(o,n,r,e));it(s,n,r,e)}});function it(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(F(s))}}class Gn{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function Jn(){return new Gn}const G=Jn();function Xn(e){return new e({type:"unknown"})}function Qn(e,t){return new e({type:"never",...$(t)})}function Vn(e,t){return new mn({check:"max_size",...$(t),maximum:e})}function at(e,t){return new gn({check:"min_size",...$(t),minimum:e})}function er(e,t){return new vn({check:"size_equals",...$(t),size:e})}function tr(e,t){return new yn({check:"max_length",...$(t),maximum:e})}function ut(e,t){return new _n({check:"min_length",...$(t),minimum:e})}function nr(e,t){return new wn({check:"length_equals",...$(t),length:e})}function rr(e){return new zn({check:"overwrite",tx:e})}function sr(e,t,n){return new e({type:"array",element:t,...$(n)})}function or(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$(n)})}const ir=(e,t)=>{$t.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>ln(e,n)},flatten:{value:n=>cn(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},ee=h("ZodError",ir,{Parent:Error}),ar=hn(ee),ur=fn(ee),cr=Tt(ee),lr=Zt(ee),w=h("ZodType",(e,t)=>(y.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>A(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>ar(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>cr(e,n,r),e.parseAsync=async(n,r)=>ur(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>lr(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(Lr(n,r)),e.superRefine=n=>e.check(Ir(n)),e.overwrite=n=>e.check(rr(n)),e.optional=()=>lt(e),e.nullable=()=>ht(e),e.nullish=()=>lt(ht(e)),e.nonoptional=n=>Er(e,n),e.array=()=>dr(e),e.or=n=>mr([e,n]),e.and=n=>vr(e,n),e.transform=n=>ft(e,$r(n)),e.default=n=>Sr(e,n),e.prefault=n=>Zr(e,n),e.catch=n=>Cr(e,n),e.pipe=n=>ft(e,n),e.readonly=()=>Or(e),e.describe=n=>{const r=e.clone();return G.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return G.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return G.get(e);const r=e.clone();return G.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),hr=h("ZodUnknown",(e,t)=>{$n.init(e,t),w.init(e,t)});function ct(){return Xn(hr)}const fr=h("ZodNever",(e,t)=>{Sn.init(e,t),w.init(e,t)});function pr(e){return Qn(fr,e)}const ce=h("ZodArray",(e,t)=>{Tn.init(e,t),w.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(ut(n,r)),e.nonempty=n=>e.check(ut(1,n)),e.max=(n,r)=>e.check(tr(n,r)),e.length=(n,r)=>e.check(nr(n,r)),e.unwrap=()=>e.element});function dr(e,t){return sr(ce,e,t)}const se=h("ZodObject",(e,t)=>{Zn.init(e,t),w.init(e,t),m(e,"shape",()=>t.shape),e.keyof=()=>br(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ct()}),e.loose=()=>e.clone({...e._zod.def,catchall:ct()}),e.strict=()=>e.clone({...e._zod.def,catchall:pr()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>sn(e,n),e.merge=n=>on(e,n),e.pick=n=>nn(e,n),e.omit=n=>rn(e,n),e.partial=(...n)=>an(te,e,n[0]),e.required=(...n)=>un(xt,e,n[0])}),le=h("ZodUnion",(e,t)=>{Et.init(e,t),w.init(e,t),e.options=t.options});function mr(e,t){return new le({type:"union",options:e,...$(t)})}const gr=h("ZodDiscriminatedUnion",(e,t)=>{le.init(e,t),En.init(e,t)}),Pt=h("ZodIntersection",(e,t)=>{Pn.init(e,t),w.init(e,t)});function vr(e,t){return new Pt({type:"intersection",left:e,right:t})}const yr=h("ZodTuple",(e,t)=>{Cn.init(e,t),w.init(e,t),e.rest=n=>e.clone({...e._zod.def,rest:n})}),_r=h("ZodRecord",(e,t)=>{xn.init(e,t),w.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}),wr=h("ZodMap",(e,t)=>{On.init(e,t),w.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}),zr=h("ZodSet",(e,t)=>{jn.init(e,t),w.init(e,t),e.min=(...n)=>e.check(at(...n)),e.nonempty=n=>e.check(at(1,n)),e.max=(...n)=>e.check(Vn(...n)),e.size=(...n)=>e.check(er(...n))}),Q=h("ZodEnum",(e,t)=>{An.init(e,t),w.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const o={};for(const i of r)if(n.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new Q({...t,checks:[],...$(s),entries:o})},e.exclude=(r,s)=>{const o={...t.entries};for(const i of r)if(n.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new Q({...t,checks:[],...$(s),entries:o})}});function br(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Q({type:"enum",entries:n,...$(t)})}const kr=h("ZodLiteral",(e,t)=>{Rn.init(e,t),w.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}),Ct=h("ZodTransform",(e,t)=>{Ln.init(e,t),w.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(F(o,n.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!0),n.issues.push(F(i))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(o=>(n.value=o,n)):(n.value=s,n)}});function $r(e){return new Ct({type:"transform",transform:e})}const te=h("ZodOptional",(e,t)=>{In.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lt(e){return new te({type:"optional",innerType:e})}const he=h("ZodNullable",(e,t)=>{Mn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ht(e){return new he({type:"nullable",innerType:e})}const fe=h("ZodDefault",(e,t)=>{Nn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Sr(e,t){return new fe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Tr=h("ZodPrefault",(e,t)=>{Kn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Zr(e,t){return new Tr({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const xt=h("ZodNonOptional",(e,t)=>{Un.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Er(e,t){return new xt({type:"nonoptional",innerType:e,...$(t)})}const Pr=h("ZodSuccess",(e,t)=>{Dn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType}),Ot=h("ZodCatch",(e,t)=>{Fn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Cr(e,t){return new Ot({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const jt=h("ZodPipe",(e,t)=>{Wn.init(e,t),w.init(e,t),e.in=t.in,e.out=t.out});function ft(e,t){return new jt({type:"pipe",in:e,out:t})}const xr=h("ZodReadonly",(e,t)=>{qn.init(e,t),w.init(e,t)});function Or(e){return new xr({type:"readonly",innerType:e})}const jr=h("ZodLazy",(e,t)=>{Bn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.getter()}),Ar=h("ZodPromise",(e,t)=>{Hn.init(e,t),w.init(e,t),e.unwrap=()=>e._zod.def.innerType}),At=h("ZodCustom",(e,t)=>{Yn.init(e,t),w.init(e,t)});function Rr(e){const t=new C({check:"custom"});return t._zod.check=e,t}function Lr(e,t={}){return or(At,e,t)}function Ir(e){const t=Rr(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(F(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(F(s))}},e(n.value,n)));return t}function pt(e,t){const n=new Map;function r(s,o,i=""){let a=s;if(a?._zod){if(a instanceof gr){const u=a._def?.discriminator??a.discriminator,c=i?`${i}.${u}`:u,p=o?.[u];n.set(c,p);const l=a.options.find(f=>(f.shape?.[u]?.value??f._def?.shape?.[u]?._def?.value)===p);if(l&&typeof o=="object"&&o!==null&&l instanceof se){for(const[f,d]of Object.entries(l.shape)){if(f===u)continue;const v=i?`${i}.${f}`:f;r(d,o[f],v)}return}return}switch(a._zod.def.type){case"object":{if(a instanceof se&&typeof o=="object"&&o!==null)for(const[u,c]of Object.entries(a.shape)){const p=i?`${i}.${u}`:u;r(c,o[u],p)}break}case"array":{a instanceof ce&&Array.isArray(o)&&o.forEach((u,c)=>{r(a.element,u,`${i}.${c}`)});break}case"union":{a instanceof le&&n.set(i,o);break}case"lazy":{if(a instanceof jr){const u=a.def.getter();r(u,o,i)}break}case"optional":{if(a instanceof te){const u=a.def.innerType;r(u,o,i)}break}case"default":{if(a instanceof fe){const u=a.def.innerType,c=a.def.defaultValue;r(u,o===void 0?c:o,i)}break}case"record":{if(a instanceof _r&&typeof o=="object"&&o!==null)for(const[u,c]of Object.entries(o)){const p=a.valueType,l=o[u],f=`${i}.${u}`;r(p,l,f)}break}case"map":{if(a instanceof wr&&o instanceof Map)for(const[u,c]of o.entries()){const p=a.valueType,l=`${i}.${String(u)}`;r(p,c,l)}break}case"set":{if(a instanceof zr&&o instanceof Set){let u=0;for(const c of o){const p=a.def.valueType,l=`${i}.${u}`;r(p,c,l),u++}}break}case"tuple":{if(a instanceof yr&&Array.isArray(o)){const u=a.def.items;for(let c=0;c<u?.length;c++){const p=u[c],l=o[c],f=`${i}.${c}`;r(p,l,f)}}break}case"nullable":{if(a instanceof he&&o!==null){const u=a.def.innerType;r(u,o,i)}break}case"intersection":{if(a instanceof Pt){const u=a.def.left,c=a.def.right;r(u,o,i),r(c,o,i)}break}case"transform":{a instanceof Ct&&n.set(i,o);break}case"pipe":{if(a instanceof jt){const u=a.def.in;r(u,o,i)}break}case"catch":{if(a instanceof Ot){const u=a.def.innerType;r(u,o,i)}break}case"success":{if(a instanceof Pr){const u=a.def.innerType;r(u,o,i)}break}case"literal":{if(a instanceof kr){const c=a.def.values?.[0]??o;n.set(i,c)}break}case"enum":{a instanceof Q&&n.set(i,o);break}case"promise":{a instanceof Ar&&n.set(i,o);break}case"custom":{a instanceof At&&n.set(i,o);break}default:{n.set(i,o);break}}}}return r(e,t),Object.fromEntries(n)}function dt(e){if(!e)return new Map;const t=new Map;function n(r,s=""){for(const[o,i]of Object.entries(r)){const a=s?`${s}.${o}`:o;typeof i=="string"?t.set(a,i):Array.isArray(i)?i.forEach((u,c)=>{typeof u=="string"?t.set(`${a}.${c}`,u):n(u,`${a}.${c}`)}):typeof i=="object"&&i!==null&&n(i,a)}}return n(e),t}function L(e,t=[],n={},r,s){const o=e._zod.def,i=t.join("."),a=()=>{const u=i,c=n?.[u]??void 0,p=s?.get(u)??null;return{name:u,value:c,onChange:f=>{!r||!u||r(d=>({...d,[u]:f}))},error:p}};switch(o.type){case"object":{if(e instanceof se){const u={};if(e.shape)for(const[c,p]of Object.entries(e.shape))u[c]=L(p,[...t,c],n,r,s);return u}break}case"array":{if(e instanceof ce){const u=i,c=new Set;for(const f of Object.keys(n??{})){const d=u?f.match(new RegExp(`^${u}.(\\d+)`)):null;d&&c.add(Number.parseInt(d[1],10))}const p=[],l=Array.from(c).sort((f,d)=>f-d);if(l.length===0)return p;for(const f of l){const d=L(e.element,[...t,String(f)],n,r,s);p.push(d)}return p}break}case"optional":{if(e instanceof te)return L(e.def.innerType,t,n,r,s);break}case"default":{if(e instanceof fe)return L(e.def.innerType,t,n,r,s);break}case"nullable":{if(e instanceof he)return L(e.def.innerType,t,n,r,s);break}default:return a()}return a()}const Hr=({schema:e,defaultValues:t,errors:n})=>{const[r,s]=S.useState(()=>pt(e,t??{})),[o,i]=S.useState(()=>dt(n)),a=S.useCallback(l=>{i(dt(l))},[]),u=S.useCallback(()=>{s(pt(e,t??{})),i(new Map)},[e,t]);S.useEffect(()=>{n&&a(n)},[n,a]);const c=S.useMemo(()=>L(e,[],r,l=>s(f=>l(f)),o),[e,r,o]),p=S.useCallback(l=>({add:f=>{s(d=>{const v={...d},b=Object.keys(v).filter(k=>k.startsWith(`${l}.`)).reduce((k,_)=>{const g=_.match(new RegExp(`^${l}\\.(\\d+)`));return g?Math.max(k,Number.parseInt(g[1],10)):k},-1)+1;if(typeof f=="object"&&f!==null)for(const[k,_]of Object.entries(f))v[`${l}.${b}.${k}`]=_;else v[`${l}.${b}`]=f;return v})},remove:f=>{s(d=>{const v={...d},T=`${l}.${f}`;for(const b of Object.keys(v))b.startsWith(T)&&delete v[b];for(const b of Object.keys(v)){const k=b.match(new RegExp(`^${l}\\.(\\d+)`));if(k){const _=Number.parseInt(k[1],10);if(_>f){const g=b.replace(new RegExp(`^${l}\\.${_}`),`${l}.${_-1}`);v[g]=v[b],delete v[b]}}}return v})}}),[]);return{fields:c,getFieldArrayHelpers:p,setFieldErrors:a,reset:u}};var Mr="Label",Rt=S.forwardRef((e,t)=>j.jsx(Ft.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Rt.displayName=Mr;const Br=({className:e,ref:t,...n})=>j.jsx(Rt,{ref:t,className:V("mb-2 block text-sm font-medium leading-none text-foreground",e),...n}),Nr=({className:e,ref:t,...n})=>j.jsx("label",{ref:t,className:V("relative flex w-full items-center overflow-clip rounded-md border border-background-300/50 dark:border-background-300/25 px-3 py-2 text-foreground after:pointer-events-none after:absolute after:-inset-y-[0.25px] after:left-0 after:h-[calc(100%_+_4px)] after:w-full after:rounded-md focus-within:border-black/10 dark:bg-background-200 bg-background [&:has(:focus-visible)]:border-background-300 [&:has(input:is(:disabled))]:opacity-50",e),...n}),Lt=({className:e,ref:t,...n})=>j.jsx("input",{ref:t,className:V("placeholder:text-foreground-muted block w-full bg-transparent text-sm text-foreground outline-hidden",e),...n}),Kr=({className:e,ref:t,...n})=>j.jsx("span",{ref:t,className:V("text-xs text-red-500",e),...n}),Yr=({className:e,...t})=>j.jsx(Ur,{className:e,children:j.jsx(Lt,{...t})}),Ur=Object.assign(Nr,{Input:Lt,Error:Kr});export{Yr as I,Br as L,Hr as a,Kr as b,qr as c,Ur as d,Wr as s,Fr as u};
