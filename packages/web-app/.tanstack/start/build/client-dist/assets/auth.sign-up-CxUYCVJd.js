import{v as j,_ as w,$ as g,b as y,j as e,B as c,L as v}from"./main-CGtgWssC.js";import{E as b,a as C,A as N,G as E}from"./SignInFormGoogle-B2Yp6w8-.js";import{u as F,s as d,c as S,a as T,L as l,I as p,d as a}from"./input-Dl9IHLeN.js";const k=()=>{const x=j(),{data:o,isPending:i,mutate:u}=F({mutationFn:async r=>{r.preventDefault();let n;if(r.target instanceof HTMLFormElement)n=r.target;else if(r.currentTarget instanceof HTMLFormElement)n=r.currentTarget;else throw new Error("Form element not found");const f=new FormData(n),{data:t}=await S(w,{method:"POST",body:f});return t.payload?.csrfToken&&d(t.payload.csrfToken),t},onSuccess:r=>{r.status==="ok"&&(r.payload?.csrfToken&&d(r.payload.csrfToken),x.navigate({to:"/",replace:!0}))}}),{fields:s}=T({schema:g,errors:o?.errors}),[m,h]=y.useState(!1);return e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"pb-4",children:[e.jsx(l,{htmlFor:s.email.name,children:"Email address"}),e.jsx(p,{type:"email",name:s.email.name,value:s.email.value,onChange:r=>s.email.onChange(r.target.value),className:"w-full max-w-none",placeholder:"john.doe@example.com"}),s.email.error&&e.jsx(a.Error,{children:s.email.error})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx(l,{htmlFor:s.password.name,children:"Password"}),e.jsxs(a,{className:"space-x-2",children:[e.jsx(a.Input,{type:m?"text":"password",name:s.password.name,value:s.password.value,onChange:r=>s.password.onChange(r.target.value)}),e.jsx("button",{type:"button",onClick:()=>h(r=>!r),children:m?e.jsx(b,{}):e.jsx(C,{})})]}),s.password.error&&e.jsx(a.Error,{children:s.password.error})]}),e.jsxs("div",{className:"pb-2",children:[e.jsx(l,{htmlFor:s.passwordConfirmation.name,children:"Confirm password"}),e.jsx(p,{type:"password",name:s.passwordConfirmation.name,value:s.passwordConfirmation.value,onChange:r=>s.passwordConfirmation.onChange(r.target.value),className:"w-full max-w-none"}),s.passwordConfirmation.error&&e.jsx(a.Error,{children:s.passwordConfirmation.error}),o?.errors?.form&&e.jsx(a.Error,{children:o.errors.form}),o?.errors?.global&&e.jsx(a.Error,{children:o.errors.global})]}),e.jsx("div",{className:"pt-4",children:e.jsx(c,{color:"primary",className:"w-full space-x-2",isLoading:i,disabled:i,type:"submit",children:e.jsxs(c.Loader,{className:"flex w-full items-center justify-center space-x-2",children:[e.jsx("span",{children:"Sign up"}),e.jsx(N,{className:"text-base"})]})})}),e.jsxs("span",{className:"pt-5 text-center text-sm w-full block",children:["Already have an account?"," ",e.jsx(v,{className:"text-primary underline",to:"/auth/sign-in",children:"Sign in"})]})]})};function I(){return e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsxs("div",{className:"flex items-center space-x-3 py-6",children:[e.jsx("div",{className:"h-[1px] w-full bg-gray-100"}),e.jsx("span",{className:"-translate-y-[2px] text-sm text-muted-foreground",children:"or"}),e.jsx("div",{className:"h-[1px] w-full bg-gray-100"})]}),e.jsx(k,{})]})}export{I as component};
