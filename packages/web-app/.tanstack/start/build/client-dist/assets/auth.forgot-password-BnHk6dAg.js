import{e as u,a2 as x,a3 as h,j as e,B as o,b as p,L as f}from"./main-CGtgWssC.js";import{u as j,c as g,a as w,L as b,I as S,d as i}from"./input-Dl9IHLeN.js";import{S as v,M as F}from"./send-aaqePt5S.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],y=u("arrow-left",N),E=({onSuccess:r})=>{const{data:t,isPending:l,mutate:c}=j({mutationFn:async s=>{s.preventDefault();let n;if(s.target instanceof HTMLFormElement)n=s.target;else if(s.currentTarget instanceof HTMLFormElement)n=s.currentTarget;else throw new Error("Form element not found");const m=new FormData(n),{data:d}=await g(x,{method:"POST",body:m});return d},onSuccess:s=>{s.status==="ok"&&r?.()}}),{fields:a}=w({schema:h,errors:t?.errors});return e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"pb-4",children:[e.jsx(b,{htmlFor:a.email.name,children:"Email address"}),e.jsx(S,{type:"email",name:a.email.name,value:a.email.value,onChange:s=>a.email.onChange(s.target.value),className:"w-full max-w-none",placeholder:"john.doe@example.com"}),a.email.error&&e.jsx(i.Error,{children:a.email.error}),t?.errors?.global&&e.jsx(i.Error,{children:t.errors.global})]}),e.jsx("div",{className:"pt-4",children:e.jsx(o,{color:"primary",className:"w-full space-x-2",isLoading:l,disabled:l,type:"submit",children:e.jsxs(o.Loader,{className:"flex w-full items-center justify-center space-x-2",children:[e.jsx("span",{children:"Reset Password"}),e.jsx(v,{})]})})})]})};function R(){const[r,t]=p.useState(!1);return e.jsx(e.Fragment,{children:r?e.jsxs("div",{children:[e.jsxs("div",{className:" flex items-center space-x-2",children:[e.jsx("span",{className:"text-xl font-bold ",children:"Email Sent"}),e.jsx(F,{className:"text-base"})]}),e.jsx("div",{className:"text-sm/snug text-muted-foreground pt-2",children:"If you have an account, you'll receive an email with a link to reset your password."}),e.jsx("div",{className:"pt-6",children:e.jsx(o,{className:"w-fit space-x-2",asChild:!0,children:e.jsxs(f,{to:"/auth/sign-in",children:[e.jsx(y,{}),e.jsx("span",{children:"Back to Sign In"})]})})})]}):e.jsx(E,{onSuccess:()=>t(!0)})})}export{R as component};
